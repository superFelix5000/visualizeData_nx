<div class="p-5">
    <button
        class="absolute right-0 top-0 bg-blue-200 hover:bg-blue-700 active:bg-blue-800 text-white font-bold py-2 px-4 rounded"
        (click)="reloadData()"
    >
        Reload
    </button>

    <div class="flex flex-row flex-wrap">
        <button
            class="z-10 flex flex-col items-center m-5 p-5 bg-slate-100 hover:bg-slate-200 active:bg-slate-300 rounded-lg shadow-xl cursor-pointer"
            *ngFor="let yearBalance of yearTotals$ | async; let i = index"
            (click)="onYearSelectionChange(years[i])"
        >
            <div class="font-bold">{{ years[i] }}</div>
            <div
                class="pb-2 font-bold"
                [class.positive]="(yearBalance.plus + yearBalance.minus) > 0"
                [class.negative]="(yearBalance.plus + yearBalance.minus) < 0"
            >
                {{ (yearBalance.plus + yearBalance.minus) | number }}
            </div>
            <p class="text-xs text-green-500">{{yearBalance.plus | number}}</p>
            <p class="text-xs text-red-500">{{yearBalance.minus | number}}</p>
            
        </button>
    </div>

    <div class="flex flex-row justify-around space-x-10 py-10">
        <div class="rounded-lg shadow-xl flex-grow w-1/2 p-5">
            <app-year-barchart></app-year-barchart>
        </div>
        <div class="rounded-lg shadow-xl w-1/3 p-5">
            <app-pie-chart></app-pie-chart>
        </div>
    </div>

    <app-stacked></app-stacked>

    <app-entry-list 
        (onEntryChanged)="onEntryChanged($event)" 
        (onUpload)="onUpload()"
        [entries]="filteredBankDataEntries$ | async">
    </app-entry-list>

</div>
